import{j as t,r as n,y as c}from"./index-C3qfdU6q.js";import{t as T,m as u,a as x}from"./owner.service-CLvH9Omo.js";const g="_report_p6pkm_2",P="_container_p6pkm_11",l={report:g,container:P},d=({heading:e,data:o})=>t.jsxs("div",{className:l.report,children:[t.jsx("h1",{children:e}),t.jsx("div",{className:l.container,children:o.map(a=>t.jsx(t.Fragment,{children:t.jsxs("div",{children:[t.jsx("h2",{children:"TOOl NAME: "}),t.jsx("p",{children:a.toolName}),t.jsx("h2",{children:"VALUE: "}),t.jsx("p",{children:a.value})]})}))})]}),j="_reports_1m5uz_1",D={reports:j},R={topDemand:[],topBroken:[],topPriced:[]},y=(e,o)=>{switch(o.type){case"TOP_DEMAND":return{...e,topDemand:o.data};case"TOP_BROKEN":return{...e,topBroken:o.data};case"TOP_PRICED":return{...e,topPriced:o.data};default:return e}},h=n.createContext(null),_=e=>o=>{const[a,s]=n.useReducer(y,R),m={getTopBroken:async()=>{try{const r=await x();console.log(r),s({type:"TOP_BROKEN",data:r.data})}catch{c.error("Sorry Could not Fetch the Report")}},getTopDemand:async()=>{try{const r=await u();s({type:"TOP_DEMAND",data:r.data}),console.log(r)}catch{c.error("Sorry Could not Fetch the Reports")}},getTopPriced:async()=>{try{const r=await T();s({type:"TOP_PRICED",data:r.data}),console.log(r)}catch{c.error("Sorry Could not Fetch the Reports")}}};return t.jsx(h.Provider,{value:{...a,...m},children:t.jsx(e,{...o})})},E=()=>{const{getTopDemand:e,getTopBroken:o,getTopPriced:a,topDemand:s,topBroken:p,topPriced:i}=n.useContext(h);return n.useEffect(()=>{e(),o(),a()},[]),t.jsxs("div",{className:D.reports,children:[t.jsx(d,{heading:"Top 3 Tools in Demand",getData:e,data:s}),t.jsx(d,{heading:"Top 3 Broken Tools",getData:o,data:p}),t.jsx(d,{heading:"Highest Priced Tools",getData:a,data:i})]})},C=_(E);export{C as default};
